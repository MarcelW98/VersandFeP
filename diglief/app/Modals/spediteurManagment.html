<div class="modal-header">
    <h4 class="modal-title">Speditionen</h4>
</div>
<div class="modal-body">
    <form name="CarrierForm">
        <table class="orderlist spedMngmnt table-scroll">
            <thead>
            <th style="width: 15%">Name</th>
            <th style="width: 10%">Bearbeiter</th>
            <th>Zuteilung <br/>Start</th>
            <th>Zuteilung <br/>Ende</th>
            <th style="max-width: 5em">Ankunft<br/>Spedition</th>
            <th>Abfahrt<br/>Spedition</th>
            <th>Bereitstel-<br/>lungszeit</th>
            <th>Späteste <br/>Abfahrt</th>
            <th>Auslagerung <br/>Start</th>
            <th>Auslagerung <br/>Ende</th>
            <th>Sonder-<br/>fahrt</th>
            <th>kPunkt<br/>Relevant</th>
            <th></th>
            <th></th>
            </thead>
            <tbody>

            <tr ng-repeat="spediteur in vm.spediteure | orderBy:'Name'">

                <td style="width: 15%">
                    <input name="carrierName-{{spediteur.ID}}" style="min-width: 98%" ng-model="spediteur.Name"
                           placeholder="{{spediteur.Name}}" required/>
                </td>
                <td style="width: 10%">
                    <input ng-model="spediteur.Bearbeiter" style="min-width: 98%"
                           placeholder="{{spediteur.Bearbeiter}}"/>
                </td>
                <td>
                    <input name="carrierAllocationStart-{{spediteur.ID}}"
                           pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="spediteur.AllocationWindStart"
                           placeholder="{{spediteur.AllocationWindStart}}"/>
                </td>
                <td>
                    <input name="carrierAllocationEnd-{{spediteur.ID}}" pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="spediteur.AllocationWindEnd"
                           placeholder="{{spediteur.AllocationWindEnd}}"/>
                </td>
                <td>
                    <input name="carrierArrival-{{spediteur.ID}}" pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="spediteur.Ankunft_Spediteur"
                           placeholder="{{spediteur.Ankunft_Spediteur}}"/>
                </td>
                <td>
                    <input name="carrierDeparture-{{spediteur.ID}}" pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="spediteur.Abfahrt_Spediteur" placeholder="{{spediteur.Abfahrt_Spediteur}}"/>
                </td>
                <td>
                    <input name="carrierProvisionTime-{{spediteur.ID}}" pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="spediteur.Bereitstellungszeit"
                           placeholder="{{spediteur.Bereitstellungszeit}}"/>
                </td>
                <td>
                    <input name="carrierLatestDeparture-{{spediteur.ID}}"
                           pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$" title="Format: HH:mm Bsp.: 03:20"
                           ng-trim="false" onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="spediteur.Spaeteste_Abfahrt"
                           placeholder="{{spediteur.Spaeteste_Abfahrt}}"/>
                </td>
                <td>
                    <input name="carrierStorageTimeStart-{{spediteur.ID}}"
                           pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$" title="Format: HH:mm Bsp.: 03:20"
                           ng-trim="false" onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="spediteur.Auslagerung_Start"
                           placeholder="{{spediteur.Auslagerung_Start}}"/>
                </td>
                <td>
                    <input name="carrierStorageTimeEnd-{{spediteur.ID}}" pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="spediteur.Auslagerung_Ende" placeholder="{{spediteur.Auslagerung_Ende}}"/>
                </td>
                <td>
                    <input type="checkbox" ng-model="spediteur.prioritisation"
                           placeholder="{{spediteur.prioritisation}}"/>
                </td>
                <td>
                    <input type="checkbox" ng-model="spediteur.kPointRelevant"
                           placeholder="{{spediteur.kPointRelevant}}"/>
                </td>
                <td>
                    <button class="btn btn-success" ng-click="vm.updateSpediteur(spediteur)"
                            ng-disabled="
                            CarrierForm['carrierAllocationStart-{{spediteur.ID}}'].$invalid ||
                            CarrierForm['carrierAllocationEnd-{{spediteur.ID}}'].$invalid ||
                            CarrierForm['carrierArrival-{{spediteur.ID}}'].$invalid ||
                            CarrierForm['carrierDeparture-{{spediteur.ID}}'].$invalid ||
                            CarrierForm['carrierProvisionTime-{{spediteur.ID}}'].$invalid ||
                            CarrierForm['carrierLatestDeparture-{{spediteur.ID}}'].$invalid ||
                            CarrierForm['carrierStorageTimeStart-{{spediteur.ID}}'].$invalid ||
                            CarrierForm['carrierStorageTimeEnd-{{spediteur.ID}}'].$invalid ||
                            CarrierForm['carrierName-{{spediteur.ID'].$error.required">Speichern
                    </button>
                </td>
                <td>
                    <button class="btn btn-danger" ng-click="vm.deleteSpediteur(spediteur)">Löschen</button>
                </td>
            </tr>
            <!----------------------------------------------------------------     Carrier add form     --------------------------------------------------------------- -->
            <tr>
                <td style="width: 15%">
                    <input name="newCarrierName" style="min-width: 98%" ng-model="vm.newCarrier.Name"
                           placeholder="Name" required/>
                </td>
                <td style="width: 10%">
                    <input ng-model="vm.newCarrier.Bearbeiter" style="min-width: 98%" placeholder="Bearbeiter"/>
                </td>
                <td>
                    <input name="newCarrierAllocationStart"
                           pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="vm.newCarrier.AllocationWindStart"
                           placeholder="{{vm.newCarrier.AllocationWindStart}}"/>
                </td>
                <td>
                    <input name="newCarrierAllocationEnd" pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'
                           ng-model="vm.newCarrier.AllocationWindEnd"
                           placeholder="{{vm.newCarrier.AllocationWindEnd}}"/>
                </td>
                <td>
                    <input name="newCarrierArival" ng-model="vm.newCarrier.Ankunft_Spediteur" placeholder="hh:mm"
                           pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$" title="Format: HH:mm Bsp.: 03:20"
                           ng-trim="false" onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'/>
                </td>
                <td>
                    <input name="newCarrierDeparture" ng-model="vm.newCarrier.Abfahrt_Spediteur" placeholder="hh:mm"
                           pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$" title="Format: HH:mm Bsp.: 03:20"
                           ng-trim="false" onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'/>
                </td>
                <td>
                    <input name="newCarrierProvisionTime" ng-model="vm.newCarrier.Bereitstellungszeit"
                           placeholder="hh:mm" pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'/>
                </td>
                <td>
                    <input name="newCarrierLatestDeparture" ng-model="vm.newCarrier.Spaeteste_Abfahrt"
                           placeholder="hh:mm" pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'/>
                </td>
                <td>
                    <input name="newCarrierStorageTimeStart" ng-model="vm.newCarrier.Auslagerung_Start"
                           placeholder="hh:mm" pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$"
                           title="Format: HH:mm bsp.: 03:20" ng-trim="false"
                           onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'/>
                </td>
                <td>
                    <input name="newCarrierStorageTimeEnd" ng-model="vm.newCarrier.Auslagerung_Ende" placeholder="hh:mm"
                           pattern="^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])$" title="Format: HH:mm Bsp.: 03:20"
                           ng-trim="false" onkeypress='return !(event.charCode >= 97 && event.charCode <= 122)'/>
                </td>
                <td>
                    <input type="checkbox" ng-model="vm.newCarrier.prioritisation"
                           placeholder="{{vm.newCarrier.prioritisation}}"/>
                </td>
                <td>
                    <input type="checkbox" ng-model="vm.newCarrier.kPointRelevant"
                           placeholder="{{vm.newCarrier.kPointRelevant}}"/>
                </td>
                <td>
                    <button type="button"
                            ng-disabled="CarrierForm.newCarrierAllocationStart.$invalid ||
                            CarrierForm.newCarrierAllocationEnd.$invalid ||
                            CarrierForm.newCarrierArival.$invalid ||
                            CarrierForm.newCarrierDeparture.$invalid ||
                            CarrierForm.newCarrierProvisionTime.$invalid ||
                             CarrierForm.newCarrierLatestDeparture.$invalid ||
                             CarrierForm.newCarrierStorageTimeStart.$invalid ||
                              CarrierForm.newCarrierStorageTimeEnd.$invalid ||
                              CarrierForm.newCarrierName.$error.required"
                            class=" btn btn-success" ng-click="vm.addSpediteur()">Hinzufügen
                    </button>
                </td>
                <td></td>

            </tr>

            </tbody>
        </table>
    <button ng-click="vm.updateAllSpediteur()"
        class="btn btn-success">Alles Speichern
    </button>
    <button style="position: absolute; right: 2%"ng-click="vm.closePopup()" class="btn btn-default">Schließen</button>
    </form>
</div>
